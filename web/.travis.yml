sudo: required
language: node_js
cache:
  directories:
    - node_modules
notifications:
  email: false
node_js:
  - node
services:
  - docker
before_install:
  - npm i -g npm@^3.0.0
  - echo "//registry.npmjs.org/:_authToken=\${NPM_TOKEN}" > .npmrc
before_script:
  - npm prune
script:
  - CI=true npm test -- --coverage
  - CI=true npm run build
  - docker build -t web .
after_success:
  - echo 'exciting deployment goes here!'
env:
  global:
    secure: "gspQWU44hTf0F6SP+Lao6Pj8aeHbyCWkRhjxd10+wmc1QHvVxwM9nzAiIvfCWQnGQwcg5+0frpAFaP3tf5W3JvjU1VLfaYPq/JCZnvbUYpKfomGXjAjvVvgbUnHWRLmQXMkBNicWO63cnVP7mTHeDoFnGpH3XNYGHOJXcoHMAOPxfPuYZzIQyqIK+8e8QEGIbos89NmSshzkWteW0G0yQfVY1Jk2Nxp1iFdBTqdppcrOKMEs59+G2i9Hhza4LbfAJCWyG3Al7jiyRdwcwnJpHIjW0IydhVx6hL0DETWQuT3DEyggiQDWNTG6dk9LfEw9qUEyw/QVi5Hq1/qe4DEUrSkwlpmxm4LlDRe6RTmLVSPWjlOq2uVlcapj4PkQjEgkxHEWaaL55AUtQudTNE4EavGn6Gj5pIjUvA8e40NKQbjPQnxD2nR94mGJbNUChk/kJmaGWXbA4swHmqsRgDilVErrxSrhkw1k1DWBsGubB0/9KeSe+ZD7af1/Tw8SPgaxMb1/vziG6vc6cQNtu9SaJFesv9j50tNrPmlA2S2EMqmo9D1JaEcHOdY3+CuIDzadAXNf5FezvwksfvqJRUVsw1Wa3yZtZkC+BjUmen1B3W1n0yhcXjFOSKgx9SUHFCTW5FUILB0au/IN8EI+XP3fMxwnYEuw2G+tibHtHEqZLkA="
